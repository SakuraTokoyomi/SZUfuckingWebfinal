<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>舞萌DX - Q&A</title>
    <link rel="stylesheet" href="../css/nav.css">
    <link rel="stylesheet" href="../css/qaDetail.css">
</head>
<body>
    <nav class="homenav">
        <div class="navtitle"><img src="../image/maimai2023.png">
            <div class="search">
                <div class="container">
                    <i class="fa-brands fa-windows item"></i>
                    <div class="search-box">
                        <input type="text" class="search-btn" id="search" placeholder="搜索">
                    </div>
                    <i class="fa-solid fa-magnifying-glass item" onclick="fuck()"></i>
                </div>
            </div>
        </div>
        <a href="home.html">HOME</a>
        <a href="about.html">ABOUT</a>
        <a href="QA.html">Q&A</a>
        <a href="album.html">SONGS</a>
        <a href="login.html">LOGIN</a>
        <div class="navanim home"></div>
        <div class="none"><img src="../image/login.png" class="login"></div>
    </nav>

    <!--QA细节-->
    <main>
        <!--占位-->
        <div class="QADetailBlcok"></div>
        <div>
            <div class="content">
                <!-- 主要内容部分 -->
                <div class="co-right" id="next-one">
                    <div class="content-li li2">
                        <h1>
                            <span>问题</span>
                            <div class="borderbotm"></div>
                            <span>01</span>

                        </h1>
                        <div class="li2-box carbox">
                            <!--问题标题部分-->
                            <div id="questionTitle"></div>
                            <!--问题主要内容部分-->
                            <div id="questionContent"></div>
                            <!--问题图片部分-->
                            <div id="questionImages"></div>
                            <!--问题时间部分-->
                            <div class="question-footer">
                                <div id="questionTime"></div>
                                <div class="rightDiv">Right Content</div>
                            </div>

                        </div>
                    </div>

                    <div class="content-li li3" id="answer-box">
                        <h1>
                            <span>回答</span>
                            <div class="borderbotm"></div>
                            <span>02</span>
                        </h1>

                    </div>
                    <div class="borderbotm"></div>
                </div>
            </div>

        </div>
    </main>
<!--    <script>-->
<!--        const serverHost = "http://3zureus.vm.szu.moe:8080";-->
<!--        const urlParams = new URLSearchParams(window.location.search);-->
<!--        const QAID = urlParams.get('QAID');-->

<!--        const xhr = new XMLHttpRequest();-->
<!--        xhr.responseType = 'json';-->
<!--        xhr.onreadystatechange = function() {-->
<!--            if (xhr.readyState === 4) {-->
<!--                if (xhr.status === 200) {-->
<!--                    // 如果状态码为 200 表示请求成功-->

<!--                    let jsonResponse = xhr.response;-->
<!--                    // 设置问题标题-->
<!--                    document.getElementById("questionTitle").innerHTML = jsonResponse.Data.Title;-->
<!--                    // 设置问题内容-->
<!--                    document.getElementById("questionContent").innerHTML = jsonResponse.Data.Content;-->
<!--                    // 设置问题图片-->
<!--                    let questionImages = jsonResponse.Data.ImgUrls;-->
<!--                    let questionImagesHTML = "";-->
<!--                    for (let i = 0; i < questionImages.length; i++){-->
<!--                        questionImagesHTML += `<img src="${serverHost}${questionImages[i]}" alt="questionImage">`;-->
<!--                    }-->
<!--                    document.getElementById("questionImages").innerHTML = questionImagesHTML;-->
<!--                    // 设置问题时间,从Unix时间戳转换为正常时间-->
<!--                    let questionTime = new Date(jsonResponse.Data.CreatedAt * 1000);-->
<!--                    document.getElementById("questionTime").innerHTML = questionTime.toLocaleString();-->
<!--                    // 设置回答内容, 在id为answer-box的div中后插入添加回答内容，如果没有回答则添加等待添加回答的提示-->
<!--                    let answerHTML = "";-->
<!--                    let answers = jsonResponse.Data.Answers;-->
<!--                    let answersBox = document.getElementById("answer-box");-->
<!--                    if (answers.length === 0){-->
<!--                        let noAnswer = document.createElement("div");-->
<!--                        let noAnswerWords = document.createElement("p");-->
<!--                        noAnswerWords.innerHTML = "暂无回答，快来添加回答吧！";-->
<!--                        noAnswer.append(noAnswerWords);-->
<!--                        answersBox.append(noAnswer);-->
<!--                    }else{-->
<!--                        for (let i = 0; i < answers.length; i++){-->
<!--                            let answer = document.createElement("div");-->
<!--                            let answerContent = document.createElement("div");-->
<!--                            let answerImages = document.createElement("div");-->
<!--                            let answerTime = document.createElement("div");-->
<!--                            let answerContentWords = document.createElement("p");-->
<!--                            answerContentWords.innerHTML = answers[i].Content;-->
<!--                            answerContent.append(answerContentWords);-->
<!--                            answer.append(answerContent);-->
<!--                            let imgUrls = answers[i].ImgUrls;-->
<!--                            for (let j = 0; j < imgUrls.length; j++) {-->
<!--                                let answerImage = document.createElement("img");-->
<!--                                answerImage.src = serverHost + imgUrls[j];-->
<!--                                answerImages.append(answerImage);-->
<!--                            }-->
<!--                            answer.append(answerImages);-->
<!--                            let answerTimeDate = new Date(answers[i].CreatedAt * 1000);-->
<!--                            answerTime.innerHTML = answerTimeDate.toLocaleString();-->
<!--                            answer.append(answerTime);-->
<!--                            answersBox.append(answer);-->
<!--                        }-->
<!--                        answersBox.insertAdjacentHTML("afterend", answerHTML);-->
<!--                    }-->

<!--                }-->
<!--                else if (xhr.status === 400){-->
<!--                    alert(xhr.responseText);-->
<!--                }-->
<!--                else {-->
<!--                    // 如果状态码不为 200，请求可能失败或者出现错误-->
<!--                    console.error('Request failed with status:', xhr.status);-->
<!--                    console.log(xhr.responseText);-->
<!--                }-->
<!--                // console.log("onreadystatechange 1st if triggered!");-->
<!--            }-->
<!--        }-->
<!--        xhr.open('GET', serverHost+`/webapi/QA/get-detail?QAID=${QAID}`, true);-->
<!--        // xhr.open('GET', `addRentalServer.php`, true);-->
<!--        xhr.send();-->
<!--    </script>-->

</body>
</html>